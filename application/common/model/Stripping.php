<?phpnamespace app\common\model;use think\Db;use think\Exception;use think\Session;//拆模通知单class Stripping extends BaseModel{    //发布    function addStripping($data)    {        $this->allowField(true)->save($data);    }    //编辑    function editStripping($data)    {        $this->allowField(true)->isUpdate(true)->save($data);    }    //查看    function lookStripping($task_id)    {        $data = $this ->where('task_id',$task_id)            ->field([                'id',                'task_id',                'title',                'priming_time',                'serial_number',                'pedestal_number',                'bridge_number',                'stripping_time',                'core_temperature',                'surface_temperature',                'environment_temperature',                'compressive_strength',                'conclusion',                'user_id',                'create_time',                'technologist_id',                'technologist_time',                'beam_id',                'beam_time',            ])            ->find();        if (empty($data))            return false;        $data['name'] = Db::name('user')->where('id',$data['user_id'])->value('name');        $data['technologist_name'] = Db::name('user')->where('id',$data['technologist_id'])->value('name');        $data['beam_name'] = Db::name('user')->where('id',$data['beam_id'])->value('name');        return $data;    }}