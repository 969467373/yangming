<?phpnamespace app\common\model;use think\Db;use think\Exception;use think\Session;//砼浇筑class ConcretePouring extends BaseModel{    //添加浇筑令    function addPouring($data)    {        $this->allowField(true)->save($data);    }    //编辑浇筑令    function editPouring($data)    {        $this->allowField(true)->isUpdate(true)->save($data);    }    //查看浇筑指令    function lookPouring($task_id)    {        $data = $this ->where('task_id',$task_id)            ->field([                'id',                'task_id',                'section_name',                'pedestal_number',                'serial_number',                'project_name',                'company',                'request_date',                'pour_part',                'pour_date',                'plan_pour_date',                'plan_volume',                'plan_duration',                'transport_type',                'strength_grade',                'slump',                'live_cargo',                'field_technician',                'phone',                'user_id',                'beam_id',                'quality_id',                'lab_id',                'beam_time',                'quality_time',                'lab_time',                'create_time',            ])            ->find();        if (empty($data))            return false;        $data['beam_name'] = Db::name('user')->where('id',$data['beam_id'])->value('name');        $data['quality_name'] = Db::name('user')->where('id',$data['quality_id'])->value('name');        $data['lab_name'] = Db::name('user')->where('id',$data['lab_id'])->value('name');        return $data;    }}